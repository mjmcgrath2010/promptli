{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Router from 'next/router';\nimport Head from 'next/head';\nimport { loginActions } from '../actions';\nimport Nav from '../components/nav';\nimport Form from '../components/common/Form';\n\nvar ResetPassword =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ResetPassword, _Component);\n\n  _createClass(ResetPassword, null, [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(_ref) {\n        var query;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                query = _ref.query;\n                return _context.abrupt(\"return\", {\n                  resetPasswordToken: query.token\n                });\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getInitialProps(_x) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  function ResetPassword(props) {\n    var _this;\n\n    _classCallCheck(this, ResetPassword);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ResetPassword).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"getFormFields\", function () {\n      return [{\n        name: 'newPassword',\n        label: 'New Password',\n        value: _this.state.newPassword,\n        type: 'password'\n      }, {\n        name: 'verifyPassword',\n        label: 'Confirm New Password',\n        value: _this.state.verifyPassword,\n        type: 'password'\n      }];\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onChange\", function (_ref2) {\n      var _ref2$target = _ref2.target,\n          value = _ref2$target.value,\n          name = _ref2$target.name;\n\n      _this.setState(_defineProperty({}, name, value));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSubmit\", function (e) {\n      e && e.preventDefault();\n      var resetPasswordToken = _this.props.resetPasswordToken;\n\n      _this.props.resetPassword(_objectSpread({}, _this.state, {\n        resetPasswordToken: resetPasswordToken\n      }));\n    });\n\n    _this.state = {\n      newPassword: null,\n      verifyPassword: null\n    };\n    return _this;\n  }\n\n  _createClass(ResetPassword, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (!this.props.resetPasswordToken) {\n        Router.push('/forgot-password');\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(\"div\", {\n        className: \"jsx-2085888330\"\n      }, __jsx(Head, null, __jsx(\"title\", {\n        className: \"jsx-2085888330\"\n      }, \"Reset Password\")), __jsx(Nav, null), __jsx(\"img\", {\n        style: {\n          margin: '8em auto 4em',\n          width: '225px',\n          display: 'block',\n          position: 'relative'\n        },\n        alt: \"logo\",\n        src: \"../static/logos/promptli-color.png\",\n        className: \"jsx-2085888330\"\n      }), __jsx(Form, {\n        onSubmit: this.onSubmit,\n        submitBtnText: \"Reset Password\",\n        fields: this.getFormFields(),\n        onChange: this.onChange,\n        title: \"Reset Password\"\n      }), __jsx(_JSXStyle, {\n        id: \"2085888330\"\n      }, []));\n    }\n  }]);\n\n  return ResetPassword;\n}(Component);\n\n_defineProperty(ResetPassword, \"defaultProps\", {});\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    resetPassword: function resetPassword(payload) {\n      return dispatch(loginActions.resetPasswordRequest(payload));\n    }\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(ResetPassword);","map":null,"metadata":{},"sourceType":"module"}