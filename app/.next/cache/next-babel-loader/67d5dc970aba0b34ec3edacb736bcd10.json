{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React, { Fragment, Component } from 'react';\nimport { connect } from 'react-redux';\nimport Form from '../common/Form';\nimport { dashboardActions } from '../../actions';\n\nvar CreateService =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CreateService, _Component);\n\n  function CreateService(props) {\n    var _this;\n\n    _classCallCheck(this, CreateService);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CreateService).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"getFormFields\", function () {\n      return [{\n        name: 'name',\n        label: 'Name',\n        value: _this.state.name\n      }, {\n        name: 'description',\n        label: 'Description',\n        multiline: true,\n        value: _this.state.description,\n        type: 'text'\n      }, {\n        name: 'packages',\n        label: 'Available Packages',\n        value: _this.state.packages,\n        type: 'select',\n        values: [],\n        // TODO: Hook up to services\n        onChange: _this.onSelectChange\n      }];\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSubmit\", function () {\n      var _this$props = _this.props,\n          accountId = _this$props.accountId,\n          createService = _this$props.createService;\n      createService(_objectSpread({}, _this.state, {\n        accountId: accountId\n      }));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onChange\", function (_ref) {\n      var _ref$target = _ref.target,\n          value = _ref$target.value,\n          name = _ref$target.name;\n\n      _this.setState(_defineProperty({}, name, value));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSelectChange\", function (val) {\n      console.log(val);\n    });\n\n    _this.state = {\n      name: '',\n      description: '',\n      pricingUnits: {\n        fixed: undefined,\n        hourly: undefined,\n        deposit: undefined,\n        minimum: undefined\n      },\n      packages: []\n    };\n    return _this;\n  }\n\n  _createClass(CreateService, [{\n    key: \"render\",\n    value: function render() {\n      return __jsx(Fragment, null, __jsx(Form, {\n        onSubmit: this.onSubmit,\n        submitBtnText: \"Create Service\",\n        fields: this.getFormFields(),\n        onChange: this.onChange\n      }));\n    }\n  }]);\n\n  return CreateService;\n}(Component);\n\nCreateService.defaultProps = {\n  onSubmit: function onSubmit() {}\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    accountId: state.dashboard.accountId,\n    services: state.dashboard.services\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(_dispatch) {\n  return {\n    dispatch: function dispatch(action) {\n      return _dispatch(action);\n    },\n    createService: function createService(payload) {\n      return _dispatch(dashboardActions.createServiceRequest(payload));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateService);","map":null,"metadata":{},"sourceType":"module"}