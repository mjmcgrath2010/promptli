{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Router from 'next/router';\nimport Head from 'next/head';\nimport { loginActions } from '../actions';\nimport Nav from '../components/nav';\nimport Form from '../components/common/Form';\n\nclass ResetPassword extends Component {\n  static async getInitialProps({\n    query\n  }) {\n    return {\n      resetPasswordToken: query.token\n    };\n  }\n\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"getFormFields\", () => {\n      return [{\n        name: 'newPassword',\n        label: 'New Password',\n        value: this.state.newPassword,\n        type: 'password'\n      }, {\n        name: 'verifyPassword',\n        label: 'Confirm New Password',\n        value: this.state.verifyPassword,\n        type: 'password'\n      }];\n    });\n\n    _defineProperty(this, \"onChange\", ({\n      target: {\n        value,\n        name\n      }\n    }) => {\n      this.setState({\n        [name]: value\n      });\n    });\n\n    _defineProperty(this, \"onSubmit\", e => {\n      e && e.preventDefault();\n      const {\n        resetPasswordToken\n      } = this.props;\n      this.props.resetPassword(_objectSpread({}, this.state, {\n        resetPasswordToken\n      }));\n    });\n\n    this.state = {\n      newPassword: null,\n      verifyPassword: null\n    };\n  }\n\n  componentDidMount() {\n    if (!this.props.resetPasswordToken) {\n      Router.push('/forgot-password');\n    }\n  }\n\n  render() {\n    return __jsx(\"div\", {\n      className: \"jsx-2085888330\"\n    }, __jsx(Head, null, __jsx(\"title\", {\n      className: \"jsx-2085888330\"\n    }, \"Reset Password\")), __jsx(Nav, null), __jsx(\"img\", {\n      style: {\n        margin: '8em auto 4em',\n        width: '225px',\n        display: 'block',\n        position: 'relative'\n      },\n      alt: \"logo\",\n      src: \"../static/logos/promptli-color.png\",\n      className: \"jsx-2085888330\"\n    }), __jsx(Form, {\n      onSubmit: this.onSubmit,\n      submitBtnText: \"Reset Password\",\n      fields: this.getFormFields(),\n      onChange: this.onChange,\n      title: \"Reset Password\"\n    }), __jsx(_JSXStyle, {\n      id: \"2085888330\"\n    }, []));\n  }\n\n}\n\n_defineProperty(ResetPassword, \"defaultProps\", {});\n\nconst mapDispatchToProps = dispatch => ({\n  resetPassword: payload => dispatch(loginActions.resetPasswordRequest(payload))\n});\n\nexport default connect(null, mapDispatchToProps)(ResetPassword);","map":null,"metadata":{},"sourceType":"module"}