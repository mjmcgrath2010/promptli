{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport Head from 'next/head';\nimport Router from 'next/router';\nimport { connect } from 'react-redux';\nimport { loginActions } from '../actions/index';\nimport Cookies from 'js-cookie';\nimport Nav from '../components/nav';\nimport Form from '../components/common/Form';\n\nclass CreateAccount extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      password: '',\n      name: '',\n      confirmPassword: ''\n    };\n    this.onChange = this.onChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.getFormFields = this.getFormFields.bind(this);\n    this.login = this.login.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.checkAuth();\n  }\n\n  onChange({\n    target: {\n      value,\n      name\n    }\n  }) {\n    this.setState({\n      [name]: value\n    });\n  }\n\n  getFormFields() {\n    return [{\n      name: 'name',\n      label: 'Name',\n      value: this.state.name,\n      type: 'email'\n    }, {\n      name: 'email',\n      label: 'Email',\n      value: this.state.email,\n      type: 'email'\n    }, {\n      name: 'password',\n      label: 'Password',\n      value: this.state.password,\n      type: 'password'\n    }, {\n      name: 'confirmPassword',\n      label: 'Confirm Password',\n      value: this.state.confirmPassword,\n      type: 'password'\n    }];\n  }\n\n  login() {\n    Router.push('/login');\n  }\n\n  async onSubmit(e) {\n    e && e.preventDefault();\n    const {\n      email,\n      password,\n      name,\n      confirmPassword\n    } = this.state;\n\n    if (password !== confirmPassword) {\n      alert('passwords must match');\n    } else {\n      this.props.createAccount({\n        email,\n        password,\n        name\n      });\n    }\n  }\n\n  render() {\n    return __jsx(\"div\", {\n      className: \"jsx-2085888330\"\n    }, __jsx(Head, null, __jsx(\"title\", {\n      className: \"jsx-2085888330\"\n    }, \"Create Account\")), __jsx(Nav, null), __jsx(\"img\", {\n      style: {\n        margin: '8em auto 4em',\n        width: '225px',\n        display: 'block',\n        position: 'relative'\n      },\n      alt: \"logo\",\n      src: \"../static/logos/promptli-color.png\",\n      className: \"jsx-2085888330\"\n    }), __jsx(Form, {\n      onSubmit: this.onSubmit,\n      submitBtnText: \"Create Account\",\n      fields: this.getFormFields(),\n      onChange: this.onChange,\n      title: \"Create an Account\"\n    }), __jsx(\"div\", {\n      className: \"jsx-2085888330\"\n    }, __jsx(\"p\", {\n      style: {\n        textAlign: 'center',\n        width: '100%'\n      },\n      className: \"jsx-2085888330\"\n    }, \"Already have an account?\", ' ', __jsx(\"a\", {\n      style: {\n        cursor: 'pointer',\n        color: '#2a45ff'\n      },\n      role: \"button\",\n      onClick: this.login,\n      className: \"jsx-2085888330\"\n    }, \"Click here to sign in.\"), ' ')), __jsx(_JSXStyle, {\n      id: \"2085888330\"\n    }, []));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    token: state.auth\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    createAccount: payload => {\n      dispatch(loginActions.createUserRequest(payload));\n    },\n    checkAuth: () => dispatch(loginActions.checkAuthRequest())\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateAccount);","map":null,"metadata":{},"sourceType":"module"}